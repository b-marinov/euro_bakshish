# Euro Bakshish - Ride Sharing Application

A comprehensive ride-sharing platform built with **NextPy** - a pure Python full-stack framework that handles both backend and frontend in a single, unified codebase.

## Features

- **User Profiles**: Create and manage profiles as either a passenger or driver
- **Trip Planning**: Select start and end locations for trips
- **Trip Completion**: Complete trips with mutual ratings between passengers and drivers
- **Trip History**: Track complete history of all trips for both drivers and passengers
- **Rating System**: Maintain user ratings based on reviews from completed trips

## Project Structure

```
euro_bakshish/
‚îú‚îÄ‚îÄ euro_bakshish_app.py   # Main NextPy application (frontend + backend)
‚îú‚îÄ‚îÄ requirements-nextpy.txt # Python dependencies
‚îî‚îÄ‚îÄ docs/                   # Project documentation
```

**Note:** This application uses NextPy framework, which provides a unified Python codebase for both frontend and backend - no JavaScript needed!

## Technology Stack

- **Framework**: NextPy - Pure Python full-stack framework
- **Backend**: FastAPI (built into NextPy)
- **Frontend**: React components via NextPy (no JavaScript needed!)
- **Database**: SQLModel with SQLite/PostgreSQL support
- **State Management**: Built-in NextPy state management
- **Authentication**: Session-based authentication

## Getting Started

### Quick Start (Recommended) üöÄ

#### Option 1: Local Development

```bash
# Install dependencies
pip install -r requirements-nextpy.txt

# Run the application
python euro_bakshish_app.py

# Access the application
# Web: http://localhost:3000
# API: http://localhost:8000/api/
```

#### Option 2: Docker Deployment üê≥

##### Using Docker Compose (Recommended)

```bash
# Build and start the container
docker-compose up -d

# View logs
docker-compose logs -f

# Stop the container
docker-compose down
```

##### Using Docker directly

```bash
# Build the Docker image
docker build -t euro_bakshish .

# Run the container
docker run -d \
  --name euro_bakshish_app \
  -p 3000:3000 \
  -p 8000:8000 \
  -v $(pwd)/data:/app/data \
  euro_bakshish

# View logs
docker logs -f euro_bakshish_app

# Stop the container
docker stop euro_bakshish_app
docker rm euro_bakshish_app
```

**Access the application:**
- Web Interface: http://localhost:3000
- API Documentation: http://localhost:8000/docs
- Backend API: http://localhost:8000/api/

**For nginx reverse proxy:** Configure nginx to proxy requests to `http://localhost:3000` (frontend) and `http://localhost:8000` (backend API).

### Prerequisites

#### Local Development
- Python 3.10+
- pip (Python package manager)

#### Docker Deployment
- Docker
- Docker Compose (optional, for easier management)

**Note**: Write everything in Python - NextPy handles the JavaScript/React generation automatically!

### Security

‚ö†Ô∏è **Security**: The NextPy application uses proper password hashing with bcrypt. See [docs/SECURITY.md](docs/SECURITY.md) before deploying to production.

Key security features:
- ‚úÖ Secure password hashing (bcrypt)
- ‚úÖ Session-based authentication
- ‚ö†Ô∏è Requires HTTPS in production
- ‚ö†Ô∏è Configure database properly for production
- ‚ö†Ô∏è Keep dependencies updated

## Quick Commands

### Running the Application

```bash
# Development mode with hot reload
python euro_bakshish_app.py

# Production mode
nextpy run --env prod
```

### Database Management

```bash
# Initialize database
python -c "from euro_bakshish_app import init_db; init_db()"

# The database is automatically created when you run the app for the first time
```

## API Documentation

The NextPy application provides a unified API that's automatically generated and documented.

### Interactive API Documentation
When the application is running, access:
- **Swagger UI**: `http://localhost:8000/docs/`
- **ReDoc**: `http://localhost:8000/redoc/`

### Key Endpoints

All API endpoints are automatically generated by NextPy based on the application state and models:

- **Authentication**: Login/Register/Logout
- **Users**: Profile management
- **Trips**: Create, view, accept, and manage trips
- **Reviews**: Rate and review completed trips

### Quick API Test
```bash
# The NextPy framework handles all API routing automatically
# Test by using the web interface or the auto-generated API docs
```

## Documentation

- **[Setup Guide](docs/SETUP.md)**: Installation instructions
- **[Architecture](docs/ARCHITECTURE.md)**: System architecture overview
- **[Security](docs/SECURITY.md)**: Security best practices
- **[Contributing](CONTRIBUTING.md)**: How to contribute

## Testing

The NextPy application includes built-in testing capabilities:

```bash
# Run tests
python -m pytest tests/

# The application uses NextPy's built-in testing framework
```

## Contributing

Please read CONTRIBUTING.md for details on our code of conduct and the process for submitting pull requests.

## License

This project is licensed under the MIT License - see the LICENSE file for details.
